<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced Prompt Builder</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* --- CSS Variables for Theming and Consistency --- */
    :root {
      --bg-color: #0e0e10;
      --surface-color: #1a1a1a; /* Inputs, output bg */
      --text-color: #f3f4f6;
      --text-muted-color: #a1a1aa; /* Placeholder text */
      --accent-color: #ff4c60;
      --accent-rgb: 255, 76, 96; /* RGB values for rgba() */
      --accent-text-color: #ffffff;
      --border-color: #333;
      --border-color-focus: var(--accent-color);
      --border-radius-sm: 4px;
      --border-radius-md: 6px;
      --border-radius-lg: 8px;
      --spacing-xs: 0.25rem;
      --spacing-sm: 0.5rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;
      --font-family: 'Inter', sans-serif;
      --transition-speed: 0.2s;
      --sidebar-width: 80px; /* Width of the neon effect */
      --sidebar-opacity: 0.5; /* Base opacity of the sidebar gradient */
    }

    /* --- Base Styles --- */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-family);
      background: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      /* Add padding to body to prevent content from overlapping sidebars visually */
      padding: var(--spacing-xl) var(--sidebar-width);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
      position: relative; /* Needed for z-index stacking if sidebars were behind */
      overflow-x: hidden; /* Prevent potential horizontal scroll */
    }

    /* --- Neon Sidebars --- */
    .neon-sidebar {
        position: fixed;
        top: 0;
        bottom: 0;
        width: var(--sidebar-width);
        /* z-index: 0; Optional: Use if you need precise layering */
        pointer-events: none; /* Allow clicks to pass through */
        /* filter: blur(3px); Optional: Add blur for softer glow */
    }

    #sidebar-left {
        left: 0;
        background: linear-gradient(to right,
            rgba(var(--accent-rgb), var(--sidebar-opacity)) 0%,
            rgba(var(--accent-rgb), calc(var(--sidebar-opacity) * 0.5)) 30%, /* Fade intensity */
            rgba(var(--accent-rgb), 0) 100% /* Fade to transparent */
        );
    }

    #sidebar-right {
        right: 0;
        background: linear-gradient(to left,
             rgba(var(--accent-rgb), var(--sidebar-opacity)) 0%,
             rgba(var(--accent-rgb), calc(var(--sidebar-opacity) * 0.5)) 30%,
             rgba(var(--accent-rgb), 0) 100%
        );
    }


    /* --- Typography --- */
    h1, h2 {
      color: var(--accent-color);
      margin-bottom: var(--spacing-md);
      text-align: center;
    }
    h1 { margin-bottom: var(--spacing-lg); }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: var(--spacing-sm);
      font-size: 0.9rem;
    }

    /* --- Tab Interface --- */
    .tab-buttons {
      display: flex;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-xl);
    }

    .tab-buttons button {
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--border-radius-md);
      border: 1px solid var(--accent-color);
      background: transparent;
      color: var(--accent-color);
      cursor: pointer;
      font-family: inherit;
      font-size: 0.9rem;
      transition: background var(--transition-speed) ease, color var(--transition-speed) ease, transform var(--transition-speed) ease;
    }

    .tab-buttons button:hover {
      background: var(--accent-color);
      color: var(--accent-text-color);
    }

    .tab-buttons button.active {
      background: var(--accent-color);
      color: var(--accent-text-color);
      font-weight: 600;
    }

    .tab-buttons button:active {
       transform: scale(0.97);
    }

    /* --- Tab Sections --- */
    .tab-section {
      display: none;
      width: 100%;
      max-width: 700px; /* Max width of the *content* area */
    }

    .tab-section.active {
      display: block;
      animation: fadeIn var(--transition-speed) ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* --- Form Elements --- */
    .form-group {
      margin-bottom: var(--spacing-lg);
    }

    select, input[type="text"] {
      width: 100%;
      padding: 0.7rem;
      border-radius: var(--border-radius-md);
      border: 1px solid var(--border-color);
      background: var(--surface-color);
      color: var(--text-color);
      font-family: inherit;
      font-size: 1rem;
      transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
    }

    select:focus, input[type="text"]:focus {
      outline: none;
      border-color: var(--border-color-focus);
      box-shadow: 0 0 0 2px rgba(var(--accent-rgb), 0.3); /* Use RGB var */
    }

    ::placeholder {
        color: var(--text-muted-color);
        opacity: 1;
    }

    /* --- Output Area --- */
    .output {
      margin-top: var(--spacing-xl);
      background: var(--surface-color);
      border-left: 4px solid var(--accent-color);
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--border-radius-lg);
      white-space: pre-wrap;
      word-wrap: break-word;
      position: relative;
      min-height: 6em;
      color: var(--text-muted-color);
      transition: background var(--transition-speed) ease;
    }
    .output.has-content {
        color: var(--text-color);
    }

    /* --- Action Buttons --- */
    .buttons {
      margin-top: var(--spacing-md);
      display: flex;
      gap: var(--spacing-md);
      flex-wrap: wrap;
    }

    button.action-button {
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--border-radius-md);
      border: 1px solid var(--accent-color);
      background: transparent;
      color: var(--accent-color);
      cursor: pointer;
      font-family: inherit;
      font-size: 0.9rem;
      transition: background var(--transition-speed) ease, color var(--transition-speed) ease, transform var(--transition-speed) ease, opacity var(--transition-speed) ease;
    }

    button.action-button:hover {
      background: var(--accent-color);
      color: var(--accent-text-color);
    }

    button.action-button:active {
       transform: scale(0.97);
    }

    button.action-button.feedback {
        background: var(--accent-color);
        color: var(--accent-text-color);
        opacity: 0.8;
        cursor: default;
    }

    .copy-under {
      margin-top: var(--spacing-sm);
      text-align: right;
    }

    /* --- Feedback Highlight --- */
    .highlight-feedback {
      animation: highlight var(--transition-speed) ease-out;
    }
    @keyframes highlight {
      0% { background-color: rgba(var(--accent-rgb), 0.2); } /* Use RGB var */
      100% { background-color: var(--surface-color); }
    }

  </style>
</head>
<body>

  <!-- Neon Sidebars (Add these elements first) -->
  <div id="sidebar-left" class="neon-sidebar"></div>
  <div id="sidebar-right" class="neon-sidebar"></div>

  <!-- Existing Content Starts Here -->
  <h1>AI Prompt Builder</h1>

  <div class="tab-buttons" role="tablist">
    <button role="tab" id="tab-classic" aria-controls="panel-classic" aria-selected="true" class="active">Classic Builder</button>
    <button role="tab" id="tab-combo" aria-controls="panel-combo" aria-selected="false">Combo Builder</button>
  </div>

  <div id="panel-classic" role="tabpanel" aria-labelledby="tab-classic" class="tab-section active">
    <h2>Classic Prompt Builder</h2>
    <div class="form-group">
      <label for="goal">Goal</label>
      <input type="text" id="goal" placeholder="Be specific: e.g., 'Write a python script to...', 'Summarize the key points of...'">
    </div>
    <div class="form-group">
      <label for="context">Context</label>
      <input type="text" id="context" placeholder="Optional: Background info, purpose, 'for a blog post', 'for internal team'">
    </div>
    <div class="form-group">
      <label for="expectations">Expectations</label>
      <input type="text" id="expectations" placeholder="Optional: Tone (formal, casual), format (list, paragraph), length">
    </div>
    <div class="buttons">
      <button class="action-button clear-classic">Clear</button>
      <button class="action-button send-to-combo">Send to Combo</button>
    </div>
    <div class="output" id="outputClassic">Your prompt will appear here...</div>
    <div class="copy-under"><button class="action-button copy-button" data-target="outputClassic">Copy</button></div>
  </div>

  <div id="panel-combo" role="tabpanel" aria-labelledby="tab-combo" class="tab-section">
    <h2>Prompt Combo Builder</h2>
    <div class="form-group">
      <label for="task">What should the AI do?</label>
      <input type="text" id="task" placeholder="e.g., Explain how AI helps warehouse planning">
    </div>
    <div class="form-group">
      <label for="reasoning">Reasoning Style</label>
      <select id="reasoning">
        <option value="">None</option>
        <option value="step-by-step">Step-by-step</option>
        <option value="compare">Compare and contrast</option>
        <option value="proscons">List pros and cons</option>
        <option value="hypothetical">Use a hypothetical scenario</option>
      </select>
    </div>
    <div class="form-group">
      <label for="role">Assume a Role</label>
      <select id="role">
        <option value="">None</option>
        <option value="logistics consultant">Logistics consultant</option>
        <option value="hr specialist">HR specialist</option>
        <option value="data analyst">Data analyst</option>
        <option value="ai assistant">AI assistant</option>
      </select>
    </div>
    <div class="form-group">
      <label for="format">Output Format</label>
      <select id="format">
        <option value="">None</option>
        <option value="a bullet list">Bullet list</option>
        <option value="a short paragraph">Short paragraph</option>
        <option value="an executive summary">Executive summary</option>
        <option value="a table">Table</option>
      </select>
    </div>
    <div class="buttons">
      <button class="action-button clear-combo">Clear</button>
    </div>
    <div class="output" id="outputCombo">Your generated prompt will appear here...</div>
    <div class="copy-under"><button class="action-button copy-button" data-target="outputCombo">Copy</button></div>
  </div>
  <!-- Existing Content Ends Here -->

  <script>
    // --- DOM Element References ---
    const tabButtons = document.querySelectorAll('.tab-buttons button[role="tab"]');
    const tabPanels = document.querySelectorAll('.tab-section[role="tabpanel"]');

    const classicGoal = document.getElementById('goal');
    const classicContext = document.getElementById('context');
    const classicExpectations = document.getElementById('expectations');
    const outputClassic = document.getElementById('outputClassic');
    const clearClassicBtn = document.querySelector('.clear-classic');
    const sendToComboBtn = document.querySelector('.send-to-combo');
    const copyClassicBtn = document.querySelector('.copy-button[data-target="outputClassic"]');

    const comboTask = document.getElementById('task');
    const comboReasoning = document.getElementById('reasoning');
    const comboRole = document.getElementById('role');
    const comboFormat = document.getElementById('format');
    const outputCombo = document.getElementById('outputCombo');
    const clearComboBtn = document.querySelector('.clear-combo');
    const copyComboBtn = document.querySelector('.copy-button[data-target="outputCombo"]');

    const allInputs = document.querySelectorAll('input[type="text"], select');

    const placeholderClassic = "Your prompt will appear here...";
    const placeholderCombo = "Your generated prompt will appear here...";

    const originalCopyText = 'Copy';
    const originalSendText = 'Send to Combo';


    // --- Function Definitions ---

    function switchTab(targetPanelId) {
      tabPanels.forEach(panel => {
        panel.classList.toggle('active', panel.id === targetPanelId);
      });

      tabButtons.forEach(button => {
        const isSelected = button.getAttribute('aria-controls') === targetPanelId;
        button.classList.toggle('active', isSelected);
        button.setAttribute('aria-selected', isSelected);
      });
      updatePrompts();
    }

    function resetButtonState(button, originalText) {
        if (button._feedbackTimeoutId) {
            clearTimeout(button._feedbackTimeoutId);
            button._feedbackTimeoutId = null;
        }
        button.textContent = originalText;
        button.classList.remove('feedback');
    }

    function clearClassic() {
      classicGoal.value = "";
      classicContext.value = "";
      classicExpectations.value = "";
      resetButtonState(copyClassicBtn, originalCopyText);
      resetButtonState(sendToComboBtn, originalSendText);
      updatePrompts();
    }

    function clearCombo() {
      comboTask.value = "";
      comboReasoning.value = "";
      comboRole.value = "";
      comboFormat.value = "";
      resetButtonState(copyComboBtn, originalCopyText);
      updatePrompts();
    }

    async function copyText(elementId, button) {
      const textElement = document.getElementById(elementId);
      const textToCopy = textElement.textContent;
      const originalText = originalCopyText;

      resetButtonState(button, originalText);

      if (textToCopy === placeholderClassic || textToCopy === placeholderCombo || !textToCopy.trim()) {
          button.textContent = "Nothing to copy!";
          button.classList.add('feedback');
           button._feedbackTimeoutId = setTimeout(() => {
               resetButtonState(button, originalText);
           }, 1500);
          return;
      }

      try {
        await navigator.clipboard.writeText(textToCopy);
        button.textContent = "Copied!";
        button.classList.add('feedback');
      } catch (err) {
        console.error("Clipboard copy failed: ", err);
        button.textContent = "Copy Failed";
        button.classList.add('feedback');
      } finally {
        button._feedbackTimeoutId = setTimeout(() => {
          resetButtonState(button, originalText);
        }, 1500);
      }
    }

    function sendToCombo() {
      resetButtonState(sendToComboBtn, originalSendText);

      const classicOutputText = outputClassic.textContent;
      if (classicOutputText && classicOutputText !== placeholderClassic && classicOutputText.trim()) {
        comboTask.value = classicOutputText;
        switchTab('panel-combo');
        updatePrompts();

        comboTask.classList.add('highlight-feedback');
        setTimeout(() => comboTask.classList.remove('highlight-feedback'), 500);
      } else {
        sendToComboBtn.textContent = "Nothing to Send";
        sendToComboBtn.classList.add('feedback');
        sendToComboBtn._feedbackTimeoutId = setTimeout(() => {
             resetButtonState(sendToComboBtn, originalSendText);
        }, 1500);
      }
    }

    function updatePrompts() {
      const g = classicGoal.value.trim();
      const c = classicContext.value.trim();
      const e = classicExpectations.value.trim();
      let classicPrompt = "";
      if (g) classicPrompt += `Your task is to ${g}.`;
      if (c) classicPrompt += ` ${g ? 'T' : 'Your task requires understanding that t'}his is needed because ${c}.`;
      if (e) classicPrompt += ` ${ (g || c) ? 'F' : 'f'}ormat your answer as ${e}.`;

      outputClassic.textContent = classicPrompt.trim() || placeholderClassic;
      outputClassic.classList.toggle('has-content', classicPrompt.trim() !== '');


      const task = comboTask.value.trim();
      const reasoning = comboReasoning.value;
      const role = comboRole.value;
      const format = comboFormat.value;
      let comboPrompt = "";

      if (role) comboPrompt += `Act as a ${role}. `;
      if (task) {
        let formattedTask = task.charAt(0).toUpperCase() + task.slice(1);
        if (!formattedTask.endsWith('.')) formattedTask += '.';
         comboPrompt += `${formattedTask} `;
      }
      if (reasoning) {
        switch (reasoning) {
          case "step-by-step": comboPrompt += "Explain step-by-step. "; break;
          case "compare": comboPrompt += "Compare and contrast the options. "; break;
          case "proscons": comboPrompt += "List the pros and cons. "; break;
          case "hypothetical": comboPrompt += "Use a hypothetical scenario. "; break;
        }
      }
      if (format) {
         comboPrompt += `Format your answer as ${format}.`;
      }

      outputCombo.textContent = comboPrompt.trim() || placeholderCombo;
      outputCombo.classList.toggle('has-content', comboPrompt.trim() !== '');
    }


    // --- Event Listeners ---
    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        switchTab(button.getAttribute('aria-controls'));
      });
    });

    allInputs.forEach(el => {
      el.addEventListener('input', updatePrompts);
    });

    clearClassicBtn.addEventListener('click', clearClassic);
    clearComboBtn.addEventListener('click', clearCombo);
    sendToComboBtn.addEventListener('click', sendToCombo);

    copyClassicBtn.addEventListener('click', () => {
        copyText('outputClassic', copyClassicBtn);
    });
    copyComboBtn.addEventListener('click', () => {
        copyText('outputCombo', copyComboBtn);
    });

    // --- Initial Setup ---
    updatePrompts();

  </script>
</body>
</html>
